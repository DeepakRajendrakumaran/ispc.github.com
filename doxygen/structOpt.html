<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Intel SPMD Program Compiler: Opt Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>Opt Struct Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Opt" -->
<p>Structure that collects optimization options.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ispc_8h_source.html">ispc.h</a>&gt;</code></p>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for Opt:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="structOpt__coll__graph.png" border="0" usemap="#Opt_coll__map" alt="Collaboration graph"/></div>
<map name="Opt_coll__map" id="Opt_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="structOpt-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#ae1ec631e0d039be80e5182b5d79ec0dd">Opt</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a97c56a56d18f9a3d0687344b46e5a779">level</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a3a974b35488e8a0efc67028b636d9b90">fastMath</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a441c78a679b7bc088d879ade8d20845f">disableBlendedMaskedStores</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a269b3d2789b821a74a7255b2fd308da4">disableCoherentControlFlow</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#af6b1278e8f15a3bfdf7c1efb7b81fc6e">disableUniformControlFlow</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a515b1fed805b43f36ec51403c8d4f3bf">disableGatherScatterOptimizations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a4922c058dd40b20fcda0022be7a7d6ea">disableMaskedStoreToStore</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a6e55373ff211bb3ea9d98d731d074c92">disableGatherScatterFlattening</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#ade00ce91375beef743b1dc773a526d12">disableUniformMemoryOptimizations</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpt.html#a2c9adc53ac4a504bf41f84aa68b1d471">disableMaskedStoreOptimizations</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Structure that collects optimization options. </p>
<p>This structure collects all of the options related to optimization of generated code. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00181">181</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae1ec631e0d039be80e5182b5d79ec0dd"></a><!-- doxytag: member="Opt::Opt" ref="ae1ec631e0d039be80e5182b5d79ec0dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Opt::Opt </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ispc_8cpp_source.html#l00071">71</a> of file <a class="el" href="ispc_8cpp_source.html">ispc.cpp</a>.</p>

<p>References <a class="el" href="ispc_8h_source.html#l00201">disableBlendedMaskedStores</a>, <a class="el" href="ispc_8h_source.html#l00207">disableCoherentControlFlow</a>, <a class="el" href="ispc_8h_source.html#l00231">disableGatherScatterFlattening</a>, <a class="el" href="ispc_8h_source.html#l00219">disableGatherScatterOptimizations</a>, <a class="el" href="ispc_8h_source.html#l00245">disableMaskedStoreOptimizations</a>, <a class="el" href="ispc_8h_source.html#l00225">disableMaskedStoreToStore</a>, <a class="el" href="ispc_8h_source.html#l00213">disableUniformControlFlow</a>, <a class="el" href="ispc_8h_source.html#l00237">disableUniformMemoryOptimizations</a>, <a class="el" href="ispc_8h_source.html#l00191">fastMath</a>, and <a class="el" href="ispc_8h_source.html#l00187">level</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a441c78a679b7bc088d879ade8d20845f"></a><!-- doxytag: member="Opt::disableBlendedMaskedStores" ref="a441c78a679b7bc088d879ade8d20845f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a441c78a679b7bc088d879ade8d20845f">Opt::disableBlendedMaskedStores</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>On targets that don't have a masked store instruction but do have a blending instruction, by default, we simulate masked stores by loading the old value, blending, and storing the result. This can potentially be unsafe in multi-threaded code, in that it writes to locations that aren't supposed to be written to. Setting this value to true disables this work-around, and instead implements masked stores by 'scalarizing' them, so that we iterate over the ISIMD lanes and do a scalar write for the ones that are running. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00201">201</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="opt_8cpp_source.html#l01235">LowerMaskedStorePass::runOnBasicBlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a269b3d2789b821a74a7255b2fd308da4"></a><!-- doxytag: member="Opt::disableCoherentControlFlow" ref="a269b3d2789b821a74a7255b2fd308da4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a269b3d2789b821a74a7255b2fd308da4">Opt::disableCoherentControlFlow</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the 'coherent control flow' constructs in the language. (e.g. this causes "cif" statements to be demoted to "if" statements.) This is likely only useful for measuring the impact of coherent control flow. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00207">207</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, and <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e55373ff211bb3ea9d98d731d074c92"></a><!-- doxytag: member="Opt::disableGatherScatterFlattening" ref="a6e55373ff211bb3ea9d98d731d074c92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a6e55373ff211bb3ea9d98d731d074c92">Opt::disableGatherScatterFlattening</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the optimization that detects when the execution mask is all on and emits code for gathers and scatters that doesn't loop over the SIMD lanes but just does the scalar loads and stores directly. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00231">231</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="opt_8cpp_source.html#l02151">IsCompileTimeConstantPass::runOnBasicBlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a515b1fed805b43f36ec51403c8d4f3bf"></a><!-- doxytag: member="Opt::disableGatherScatterOptimizations" ref="a515b1fed805b43f36ec51403c8d4f3bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a515b1fed805b43f36ec51403c8d4f3bf">Opt::disableGatherScatterOptimizations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the backend optimizations related to gather/scatter (e.g. transforming gather from sequential locations to an unaligned load, etc.) This is likely only useful for measuring the impact of these optimizations. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00219">219</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="opt_8cpp_source.html#l00172">Optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c9adc53ac4a504bf41f84aa68b1d471"></a><!-- doxytag: member="Opt::disableMaskedStoreOptimizations" ref="a2c9adc53ac4a504bf41f84aa68b1d471" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a2c9adc53ac4a504bf41f84aa68b1d471">Opt::disableMaskedStoreOptimizations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables optimizations for masked stores: masked stores with the mask all on are transformed to regular stores, and masked stores with the mask are all off are removed (which in turn can allow eliminating additional dead code related to computing the value stored). This is likely only useful for measuring the impact of this optimization. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00245">245</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="opt_8cpp_source.html#l00172">Optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a4922c058dd40b20fcda0022be7a7d6ea"></a><!-- doxytag: member="Opt::disableMaskedStoreToStore" ref="a4922c058dd40b20fcda0022be7a7d6ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a4922c058dd40b20fcda0022be7a7d6ea">Opt::disableMaskedStoreToStore</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the optimization that demotes masked stores to regular stores when the store is happening at the same control flow level where the variable was declared. This is likely only useful for measuring the impact of this optimization. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00225">225</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="expr_8cpp_source.html#l01387">lStoreAssignResult()</a>, <a class="el" href="main_8cpp_source.html#l00177">main()</a>, and <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>.</p>

</div>
</div>
<a class="anchor" id="af6b1278e8f15a3bfdf7c1efb7b81fc6e"></a><!-- doxytag: member="Opt::disableUniformControlFlow" ref="af6b1278e8f15a3bfdf7c1efb7b81fc6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#af6b1278e8f15a3bfdf7c1efb7b81fc6e">Opt::disableUniformControlFlow</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables uniform control flow optimizations (e.g. this changes an "if" statement with a uniform condition to have a varying condition). This is likely only useful for measuring the impact of uniform control flow. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00213">213</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="stmt_8cpp_source.html#l00983">ForStmt::EmitCode()</a>, <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, <a class="el" href="stmt_8cpp_source.html#l01131">ForStmt::TypeCheck()</a>, <a class="el" href="stmt_8cpp_source.html#l00916">DoStmt::TypeCheck()</a>, and <a class="el" href="stmt_8cpp_source.html#l00510">IfStmt::TypeCheck()</a>.</p>

</div>
</div>
<a class="anchor" id="ade00ce91375beef743b1dc773a526d12"></a><!-- doxytag: member="Opt::disableUniformMemoryOptimizations" ref="ade00ce91375beef743b1dc773a526d12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#ade00ce91375beef743b1dc773a526d12">Opt::disableUniformMemoryOptimizations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the optimizations that detect when arrays are being indexed with 'uniform' values and issue scalar loads/stores rather than gathers/scatters. This is likely only useful for measuring the impact of this optimization. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00237">237</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="expr_8cpp_source.html#l02701">IndexExpr::TypeCheck()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a974b35488e8a0efc67028b636d9b90"></a><!-- doxytag: member="Opt::fastMath" ref="a3a974b35488e8a0efc67028b636d9b90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structOpt.html#a3a974b35488e8a0efc67028b636d9b90">Opt::fastMath</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates whether "fast and loose" numerically unsafe optimizations should be performed. This is false by default. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00191">191</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="expr_8cpp_source.html#l01071">BinaryExpr::Optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a97c56a56d18f9a3d0687344b46e5a779"></a><!-- doxytag: member="Opt::level" ref="a97c56a56d18f9a3d0687344b46e5a779" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structOpt.html#a97c56a56d18f9a3d0687344b46e5a779">Opt::level</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Optimization level. Currently, the only valid values are 0, indicating essentially no optimization, and 1, indicating as much optimization as possible. </p>

<p>Definition at line <a class="el" href="ispc_8h_source.html#l00187">187</a> of file <a class="el" href="ispc_8h_source.html">ispc.h</a>.</p>

<p>Referenced by <a class="el" href="module_8cpp_source.html#l00140">Module::CompileFile()</a>, <a class="el" href="ctx_8cpp_source.html#l00126">FunctionEmitContext::FunctionEmitContext()</a>, <a class="el" href="main_8cpp_source.html#l00177">main()</a>, <a class="el" href="module_8cpp_source.html#l00095">Module::Module()</a>, <a class="el" href="ispc_8cpp_source.html#l00071">Opt()</a>, and <a class="el" href="module_8cpp_source.html#l00933">Module::writeObjectFileOrAssembly()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="ispc_8h_source.html">ispc.h</a></li>
<li><a class="el" href="ispc_8cpp_source.html">ispc.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 1 2011 05:18:42 for Intel SPMD Program Compiler by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
